<%
  const layers = locals.layers;
  const helpers = locals.helpers;
-%>
/* eslint-disable */
// <%= helpers.autoGeneratedHeader.doNotModify %>
// <%= helpers.autoGeneratedHeader.generatedFrom(locals.filePath) %>

import { isAndroid } from './index';

const StyleType = {
  Constant: 'constant',
  Color: 'color',
  Transition: 'transition',
  Translation: 'translation',
  Function: 'function',
  Image: 'image',
  Enum: 'enum',
};



const STYLE_MAP = {
  <%_ for (let layer of layers) { _%>
  <%_ for (let prop of layer.properties) { _%>
  <%_ if (prop.name !== 'visibility') { _%>
  <%= prop.name %>: <%- helpers.jsStyleType(prop) %>,
  <%_ if (prop.transition) { _%>
  <%= prop.name %>Transition: StyleType.Transition,
  <%_ } _%>
  <%_ } _%>
  <%_ } _%>

  <%_ } _%>
  visibility: StyleType.Constant,
};

const STYLE_OVERRIDES = {
  // padding
  iconTextFitPadding: {
    iosType: 'edgeinsets',
  },

  // offsets
  iconOffset: {
    iosType: 'vector',
  },
  textOffset: {
    iosType: 'vector',
  },
  lineOffset: {
    iosType: 'vector',
  },

  // translates
  fillTranslate: {
    iosType: 'vector',
  },
  lineTranslate: {
    iosType: 'vector',
  },
  iconTranslate: {
    iosType: 'vector',
  },
  textTranslate: {
    iosType: 'vector',
  },
  circleTranslate: {
    iosType: 'vector',
  },
  fillExtrusionTranslate: {
    iosType: 'vector',
  },
};

export function getStylePropertyType(styleProperty: keyof typeof STYLE_OVERRIDES): string {
  if (!isAndroid() && STYLE_OVERRIDES[styleProperty]) {
    return STYLE_OVERRIDES[styleProperty].iosType;
  }

  if (STYLE_MAP[styleProperty]) {
    return STYLE_MAP[styleProperty];
  }

  throw new Error(`${styleProperty} is not a valid TrackAsia layer style`);
}
